<mat-list class="bt">
  <h3 matSubheader>Ustawienia</h3>
  
  <!--
  <mat-list-item>
    <mat-icon matListIcon>sync</mat-icon>
    <p matLine>Synchronizacja</p>
    <p matLine>Wyłącz / włącz</p>
    <small matLine>Ostatnia: {{lastSync | date:'d MMMM HH:mm':'':'pl-PL'}}</small>
    <mat-slide-toggle [checked]="syncState" (change)=changeSyncState($event)></mat-slide-toggle>
  </mat-list-item>

  <mat-divider></mat-divider>
  -->

  <mat-list-item>
    <mat-icon matListIcon>sync</mat-icon>
    <p matLine>Synchronizacja</p>
  </mat-list-item>
  
  <mat-list-item>
    <p matLine>Brak automatycznej</p>
    <small matLine>Ostatnia: <span [hidden]="!syncInProgress">w toku</span><span [hidden]="syncInProgress">{{lastSync | date:'d MMMM HH:mm':'':'pl-PL'}}</span></small>
    <button [disabled]="syncInProgress" (click)="sync()" class="mat-button-n ct" mat-button>Wymuś</button>
  </mat-list-item>

  <mat-divider></mat-divider>

  <mat-list-item>
    <mat-icon matListIcon>color_lens</mat-icon>
    <p matLine>Motyw </p>
  </mat-list-item>

  <mat-list-item>
    <mat-form-field matLine>
      <mat-label>Motyw</mat-label>
      <mat-select [value]="themeSelected" (selectionChange)="changeTheme($event)">

          <mat-optgroup label="Ciemne">
            <mat-option value="kn-purple-13">Purpurowa ciemność</mat-option>
            <mat-option value="kn-blue">Modrakowy arcyłgarz</mat-option>
            <mat-option value="kn-red">Gorzka krew dziewicy</mat-option>
            <mat-option value="red2">Stalinowski oficjel</mat-option>
            <mat-option value="kn-green-1">Upadły świat roślin</mat-option>
            <mat-option value="kn-green-2">Flora nienawiści</mat-option>
            <mat-option value="kn-green-3">Zielone płuca Shreka</mat-option>
            <mat-option value="blackngray">Agonalny brak światła</mat-option>
            <mat-option value="brown1">Pyszna kawa</mat-option>
            <mat-option value="purple2">Śliwkowy rzyg</mat-option>
            <mat-option value="brown2">Oranż zniewolenia</mat-option>
          </mat-optgroup>

          <mat-optgroup label="Jasne">
              <mat-option value="light-brown-1">Niedobre cappuccino</mat-option>
          </mat-optgroup>

      </mat-select>
    </mat-form-field>
  </mat-list-item>

  <mat-divider></mat-divider>

  <mat-list-item>
    <mat-icon matListIcon>people</mat-icon>
    <p matLine>Konta</p>
  </mat-list-item>

  <div *ngFor="let data of users | async;">
    <mat-list-item>
      <p matLine class="acc">{{data.userName}}<sup><i class="parent-indicator" *ngIf="data.userType=='parent'">R</i></sup><br>
        <small>{{data.userLogin}}</small>
      </p>
      
      <button class="mat-button-n" mat-button (click)="deleteUser(data.userLogin)">Usuń</button>
    </mat-list-item>
  </div>
  <mat-list-item>
    <p matLine>Dodaj nowego użytkownika</p>
    <button class="mat-button-n" mat-button (click)="addUser()">Dodaj</button>
  </mat-list-item>

  <mat-divider></mat-divider>

  <mat-list-item>
    <mat-icon matListIcon>info</mat-icon>
    <p matLine>Informacje o aplikacji</p>
  </mat-list-item>
  <mat-list-item class="app-info">
    <p matLine>
      <span>Version:</span>
      <code>{{version}} - stable</code>
    </p>

    <p matLine>
      <span>UT:</span>
      <code>{{updateTime | date:'dd-MM-HH-mm' }}</code>
    </p>

    <p matLine>
      <span>LSWF:</span>
      <code>{{swFetch | date:'dd-MM-HH-mm'}}</code>
    </p>

    <p matLine>
      <span>System:</span>
      <code>{{system}}</code>
    </p>

    <p matLine>
      <span>Push:</span>
      <code>{{pushStatus}}</code>
    </p>

    <p matLine style="overflow: visible; padding-top: 10px;">
      <span>Sprawdź dostępność aktualizacji</span>
        <button [disabled]="clicked" class="mat-icon-button" style="margin-top: -10px; float: right;" mat-button (click)="clicked = true; checkUpdate();">
          <mat-icon>cached</mat-icon>
        </button>
    </p>
    

  </mat-list-item>

  <mat-divider></mat-divider>
  
</mat-list>

