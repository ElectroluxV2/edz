<div class="bt">
    <div *ngFor="let data of plans | async; index as i">
        <article *ngIf="(plans | async)?.length > 1">
            <h3 matSubheader>{{data.userName}}</h3>
        </article>
    
        <article>
        <mat-expansion-panel expanded="true">
            <mat-expansion-panel-header collapsedHeight="48px" expandedHeight="48px">Poniedziałek</mat-expansion-panel-header>
            <mat-list>
                <div *ngFor="let lesson of data.plan.monday; index as i">
                    <mat-list-item matRipple *ngIf="!lesson.empty" >
                        <h4 matLine class="name">{{lesson.name}}</h4>
                        <p matLine class="info"> {{lesson.time}} <span>{{lesson.teacher}}</span></p>
                        <i *ngIf="lesson.subject.value" (click)="toggleClass($event,'full')" matLine class="subject">T:<sub class="star" *ngIf="!datePartialEquality(lesson.date, lesson.subject.date)">*</sub> {{lesson.subject.value}}</i>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                </div>
            </mat-list>
        </mat-expansion-panel>
        </article>
    
        <article>
        <mat-expansion-panel expanded="true">
            <mat-expansion-panel-header collapsedHeight="48px" expandedHeight="48px">Wtorek</mat-expansion-panel-header>
            <mat-list>
                <div *ngFor="let lesson of data.plan.tuesday; index as i">
                    <mat-list-item matRipple *ngIf="!lesson.empty" >
                        <h4 matLine class="name">{{lesson.name}}</h4>
                        <p matLine class="info"> {{lesson.time}} <span>{{lesson.teacher}}</span></p>
                        <i *ngIf="lesson.subject.value" (click)="toggleClass($event,'full')" matLine class="subject">T:<sub class="star" *ngIf="!datePartialEquality(lesson.date, lesson.subject.date)">*</sub> {{lesson.subject.value}}</i>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                </div>
            </mat-list>
        </mat-expansion-panel>
        </article>
    
        <article>
        <mat-expansion-panel expanded="true">
            <mat-expansion-panel-header collapsedHeight="48px" expandedHeight="48px">Środa</mat-expansion-panel-header>
            <mat-list>
                <div *ngFor="let lesson of data.plan.wednesday; index as i">
                    <mat-list-item matRipple *ngIf="!lesson.empty" >
                        <h4 matLine class="name">{{lesson.name}}</h4>
                        <p matLine class="info"> {{lesson.time}} <span>{{lesson.teacher}}</span></p>
                        <i *ngIf="lesson.subject.value" (click)="toggleClass($event,'full')" matLine class="subject">T:<sub class="star" *ngIf="!datePartialEquality(lesson.date, lesson.subject.date)">*</sub> {{lesson.subject.value}}</i>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                </div>
            </mat-list>
        </mat-expansion-panel>
        </article>
    
        <article>
        <mat-expansion-panel expanded="true">
            <mat-expansion-panel-header collapsedHeight="48px" expandedHeight="48px">Czwartek</mat-expansion-panel-header>
            <mat-list>
                <div *ngFor="let lesson of data.plan.thursday; index as i">
                    <mat-list-item matRipple *ngIf="!lesson.empty" >
                        <h4 matLine class="name">{{lesson.name}}</h4>
                        <p matLine class="info"> {{lesson.time}} <span>{{lesson.teacher}}</span></p>
                        <i *ngIf="lesson.subject.value" (click)="toggleClass($event,'full')" matLine class="subject">T:<sub class="star" *ngIf="!datePartialEquality(lesson.date, lesson.subject.date)">*</sub> {{lesson.subject.value}}</i>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                </div>
            </mat-list>
        </mat-expansion-panel>
        </article>
    
        <article>
        <mat-expansion-panel expanded="true">
            <mat-expansion-panel-header collapsedHeight="48px" expandedHeight="48px">Piątek</mat-expansion-panel-header>
            <mat-list>
                <div *ngFor="let lesson of data.plan.friday; index as i">
                    <mat-list-item matRipple *ngIf="!lesson.empty" >
                        <h4 matLine class="name">{{lesson.name}}</h4>
                        <p matLine class="info"> {{lesson.time}} <span>{{lesson.teacher}}</span></p>
                        <i *ngIf="lesson.subject.value" (click)="toggleClass($event,'full')" matLine class="subject">T:<sub class="star" *ngIf="!datePartialEquality(lesson.date, lesson.subject.date)">*</sub> {{lesson.subject.value}}</i>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                </div>
            </mat-list>
        </mat-expansion-panel>
        </article>
    </div>
</div>